<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Jirafa y Pinguina ❤️</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');

    /* Base styling */
    body {
      margin: 0;
      font-family: 'Great Vibes', cursive;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      overflow-x: hidden;
      transition: background 0.5s ease;
      padding: 0;
    }

    /* Container */
    .container {
      text-align: center;
      padding: 20px;
    }

    h1 {
      font-size: 2.8em;
      color: #ff3366;
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
      margin-bottom: 10px;
    }

    p {
      font-size: 1.3em;
      color: #333;
    }

    button {
      background-color: #ff3366;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 1.2em;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s, box-shadow 0.2s;
      margin: 10px;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }

    /* Floating hearts effect */
    .floating-hearts span {
      position: absolute;
      width: 20px;
      height: 20px;
      background: #ff3366;
      clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
      animation: float 7s infinite ease-in-out;
      opacity: 0.7;
    }

    .floating-hearts {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      overflow: hidden;
      z-index: -1;
    }

    /* Pop-up content */
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.95);
      padding: 30px;
      border-radius: 20px;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      text-align: left;
      z-index: 1000;
    }

    .popup h2 {
      color: #ff3366;
      margin-top: 0;
      font-family: 'Arial', sans-serif;
    }

    .scrollable-content {
      max-height: 300px;
      overflow-y: auto;
      font-family: 'Arial', sans-serif;
      font-size: 1.2em;
      color: #444;
      margin-top: 10px;
      line-height: 1.6;
    }

    /* Final message */
    .final-message {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 1001;
    }

    .final-message .heart {
      font-size: 5em;
      color: #ff3366;
      animation: heartExpand 1s ease-in-out forwards;
    }

    .final-message p {
      font-size: 1.5em;
      color: #333;
    }

    /* Chatbot */
    #chatbot-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: white;
      border-radius: 15px;
      padding: 20px;
      width: 280px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      z-index: 1002;
    }

    #chatbot-container .chat-box {
      max-height: 200px;
      overflow-y: auto;
      border-bottom: 2px solid #ff3366;
      padding-bottom: 10px;
    }

    #chatbot-container .chat-box p {
      font-size: 1.1em;
      color: #444;
      margin: 5px 0;
    }

    #chatbot-container input {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      font-size: 1em;
      border-radius: 5px;
      border: 1px solid #ff3366;
    }

    /* Animations */
    @keyframes float {
      0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateY(-10vh) scale(1); opacity: 0; }
    }

    @keyframes heartExpand {
      0% { transform: scale(0.5); opacity: 0; }
      50% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Night mode */
    .night {
      background: linear-gradient(to bottom, #2c3e50, #000);
      color: white;
    }

    .night p, .night h1 {
      color: #f2f2f2;
    }

    .night .popup {
      background: #1a1a1a;
      color: #fff;
    }

    /* Responsive Styles */
    @media (max-width: 768px) {
      h1 {
        font-size: 2.2em;
      }

      p {
        font-size: 1.1em;
      }

      button {
        padding: 10px 20px;
        font-size: 1em;
      }

      .floating-hearts span {
        width: 15px;
        height: 15px;
      }

      .popup {
        padding: 20px;
        width: 85%;
      }

      #chatbot-container {
        width: 240px;
      }

      .final-message .heart {
        font-size: 4em;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 1.8em;
      }

      p {
        font-size: 1em;
      }

      button {
        padding: 8px 16px;
        font-size: 0.9em;
      }

      .floating-hearts span {
        width: 12px;
        height: 12px;
      }

      .popup {
        padding: 15px;
        width: 90%;
      }

      #chatbot-container {
        width: 200px;
      }

      .final-message .heart {
        font-size: 3.5em;
      }
    }
  </style>
</head>
<body>
  <audio autoplay loop>
    <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
  </audio>

  <div class="floating-hearts">
    <span style="left:10%; animation-duration: 4s;"></span>
    <span style="left:30%; animation-duration: 6s; animation-delay: 1s;"></span>
    <span style="left:50%; animation-duration: 5s; animation-delay: 2s;"></span>
    <span style="left:70%; animation-duration: 7s; animation-delay: 3s;"></span>
    <span style="left:90%; animation-duration: 4.5s; animation-delay: 1.5s;"></span>
  </div>

  <div class="container">
    <h1>Jirafa y Pinguina ❤️</h1>
    <p>Solo estaré pensándote mediante esta carta.</p>
    <button onclick="showPopup()">Haz clic aquí para abrir la carta</button>
    <button onclick="toggleNightMode()">Modo Noche</button>
    <button onclick="toggleChatbot()">Hazme una pregunta</button>
  </div>

  <div class="popup" id="popup">
    <h2>Mi Carta para Ti</h2>
    <div class="scrollable-content" id="letter-content"></div>
    <button onclick="nextPart()">Siguiente</button>
    <button onclick="closePopup()">Cerrar</button>
  </div>

  <div class="final-message" id="final-message">
    <div class="heart">❤️</div>
    <p>Gracias por ver esta carta, lo hice con mucho amor ❤️</p>
  </div>

  <!-- Chatbot -->
  <div id="chatbot-container" style="display: none;">
    <div class="chat-box" id="chat-box">
      <p><strong>Bot:</strong> ¡Hola, amor! ¿Cómo estás?</p>
    </div>
    <input type="text" id="chat-input" placeholder="Escribe aquí..." onkeydown="if(event.key === 'Enter') sendMessage()">
  </div>

  <script>
    // Función de la carta y demás interacción
    const letterParts = [
      "Amor,",
      "No te amo por tu físico, aunque eres hermosa…",
      "Te amo por todo lo que eres, por esa forma de existir que me tocó el corazón y ya no me dejó ser el mismo.",
      "Te amo porque, aún con tus silencios, sigues siendo lo más apreciado que tengo.",
      "Te amo, aunque no lo notes, aunque no me preguntes, aunque no parezca que te importe.",
      "Sigo aquí, contigo en el alma, pensándote en cada gesto, esperando en cada día una señal tuya que me diga que aún me llevas en ti.",
      "Si tan solo supieras cuánto me importas, cuánto me haces falta, cuánto daría por tenerte, por no perderte.",
      "Si tan solo supieras que aún te sigo amando... con todo, a pesar de todo, y contigo, siempre contigo…",
      "Sé que no soy perfecto, pero quiero ser todo lo que sueñas. Quiero ser la persona que te entienda, no solo en las cosas grandes, sino también en los pequeños detalles. Quiero que me digas qué te gusta: qué te hace reír, qué te hace sentir segura. Enséñame cómo amarte de la manera en que quieres ser amada. No quiero asumir que sé lo que necesitas. Quiero escucharte, aprender. Tu felicidad significa mucho para mí, y nunca dejaré de intentar ser la persona que te la brinde. Quiero ser quien esté ahí para ti, quien lo haga bien, quien aprenda de sus errores. Siempre estaré dispuesto a crecer, a cambiar y a amarte más profundamente que ayer. Cuéntame tus sueños, tus deseos, tus miedos, y te prometo que estaré aquí. Mereces ser amada de una forma que se sienta bien para ti, y yo estoy aquí, dispuesto a hacer lo que sea necesario para ser esa persona para ti. Así que solo sé que te amo."
    ];

    let currentPart = 0;

    function showPopup() {
      document.getElementById('popup').style.display = 'block';
      currentPart = 0;
      typeText(letterParts[currentPart], 'letter-content');
    }

    function nextPart() {
      currentPart++;
      if (currentPart < letterParts.length) {
        typeText(letterParts[currentPart], 'letter-content');
      } else {
        showFinalAnimation();
      }
    }

    function closePopup() {
      document.getElementById('popup').style.display = 'none';
    }

    function typeText(text, elementId) {
      let i = 0;
      const element = document.getElementById(elementId);
      element.innerHTML = '';
      const interval = setInterval(() => {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
        } else {
          clearInterval(interval);
        }
      }, 40);
    }

    function showFinalAnimation() {
      document.getElementById('popup').style.display = 'none';
      document.getElementById('final-message').style.display = 'block';
    }

    function toggleNightMode() {
      document.body.classList.toggle('night');
    }

    // Bot IA
    const responses = [
      "¡Te amo más de lo que las palabras pueden decir!",
      "Eres mi todo, mi razón de existir.",
      "No puedo dejar de pensar en ti.",
      "Cada día me haces más feliz, mi amor.",
      "Eres mi sol
